{% extends 'common.html' %}
{% load static %}
{% block main %}
  <div class="container" style="margin-top:100px;">
      <div class="row">
          <div class="columns">
              <div class="column">
                  <div class="card">
                      <div class="navbar-start">
                          {% for i in prodata %}
                            <a class="navbar-item has-text-weight-bold has-text-black is-link"
                               href="{% url 'projectdetail' i.Project %}">{{i.Project}}
                            </a>
                          {% endfor %}
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
  <div class="container">
      <div class="row">
          <div class="columns">
              <div class="column">
                     <!--      Table Print        -->
              <table class="table">
                  <thead>
                    <tr style="text-align:center">
                        {% if smp %}
                        <th>ID</th>
                        <th>Patient</th>
<!--                        {% for j in smp %}-->
<!--                            <th colspan = "2" ></th>-->
<!--                        {% endfor%}-->
                        <th colspan="6">Sequence</th>
                        {% endif %}
                    </tr>
                  </thead>
                  <tbody>
                  {% for ptd in patient %}
                       <tr class="" style="text-align:center">
                           <th>{{forloop.counter}}</th>
                           <th>{{ptd.Patient}}</th>
                           {% for s in sqt %}
                                {% if ptd.Patient == s.Patient%}
                                    {% if s.Sequence == 'DNA' %}
                                       <td style="font-size:15px; font-weight:bold; display:flex-inline;">
                                           {{s.Sequence}}
                                           {% if s.Sample == '131' %}
                                            <a class="tag is-link is-normal" href="{% url 'show' s.Project s.Patient s.Sequence s.Samplename %}">Normal</a>
                                           {%elif s.Sample == '111' %}
                                            <a class="tag is-link is-normal" href="{% url 'show' s.Project s.Patient s.Sequence s.Samplename %}">Tumor</a>
                                           {%elif s.Sample == None %}
                                            <a href="#">NA</a>
                                           {% endif %}
                                       </td>
                                    {%elif s.Sequence == 'FFPE' %}
                                        <td style="font-size:15px; font-weight:bold; display:flex-inline;">
                                           {{s.Sequence}}
                                           {% if s.Sample == '131' %}
                                            <a class="tag is-link is-normal" type="button" href="{% url 'show' s.Project s.Patient s.Sequence s.Samplename %}">Normal</a>
                                           {%elif s.Sample == '111' %}
                                            <a class="tag is-link is-normal" href="{% url 'show' s.Project s.Patient s.Sequence s.Samplename %}">Tumor</a>
                                           {%elif s.Sample == None %}
                                            <a href="#">NA</a>
                                           {% endif %}
                                       </td>
                                    {%elif s.Sequence == 'RNA' %}
                                        <td style="font-size:15px; font-weight:bold; display:flex-inline;">
                                           {{s.Sequence}}
                                           {% if s.Sample == '131' %}
                                            <a class="tag is-link is-normal" href="{% url 'show' s.Project s.Patient s.Sequence s.Samplename %}">Normal</a>
                                           {%elif s.Sample == '111' %}
                                            <a class="tag is-link is-normal" href="{% url 'show' s.Project s.Patient s.Sequence s.Samplename %}">Tumor</a>
                                           {%elif s.Sample == None %}
                                            <a href="#">NA</a>
                                           {% endif %}
                                       </td>
                                    {% else %}
                                        <td style="font-size:15px; font-weight:bold; display:flex-inline;">NA</td>
                                    {%endif%}
                                {% endif %}
                           {% endfor %}
                       </tr>
                  {% endfor %}
                  </tbody>
              </table>
              </div>
          </div>
      </div>
  </div>
{% if sample %}
<div class="container">
    <div class="row">
        <div class="columns">
            <div class="column flex-container table-container">
                <h3>{{sqc}} / {{spp}}</h3>
                <table class="table" style="text-align:center; font-size:15px;">
                    <thead>
                    <tr>
                        <th style="font-weight:bold;">ID</th>
                        <th style="font-weight:bold">BS</th>
                        <th>PBSQ</th>
                        <th>PTSQ</th>
                        <th>PSQS</th>
                        <th>PBSC</th>
                        <th>PSGC</th>
                        <th>PBNC</th>
                        <th>SLD</th>
                        <th>SDL</th>
                        <th>OS</th>
                        <th>AC</th>
                        <th>Total Sequence</th>
                        <th>Sequence Length</th>
                        <th>%GC</th>
                        <th>Lane</th>
                        <th>Row</th>
                        <th colspan="2">Action</th>
                    </tr>
                    </thead>
                    <tbody class="table-body">
                    {% for sp in sample%}
                        <tr>
                            <td>{{sp.id}}</td>
                            <td> <span class="status-{{sp.BS}} tooltips"><p>{{sp.BS}}</p>
                                <span class="tooltipstatus">Basic Statistics</span></span></td>
                            <td> <span  class="status-{{sp.PBSQ}} tooltips"><p>{{sp.PBSQ}}</p>
                                <span class="tooltipstatus">Per Base Sequence Quality</span></span></td>
                            <td> <span class="status-{{sp.PTSQ}} tooltips"><p>{{sp.PTSQ}}</p>
                                <span class="tooltipstatus">Per Tile Sequence Quality</span></span></td>
                            <td><span class="status-{{sp.PSQS}} tooltips"><p>{{sp.PSQS}}</p>
                                <span class="tooltipstatus">Per Sequence Quality Scores</span></span></td>
                            <td><span class="status-{{sp.PBSC}} tooltips"><p>{{sp.PBSC}}</p>
                                <span class="tooltipstatus">Per Base Sequence Content</span></span></td>
                            <td><span class="status-{{sp.PSGC}} tooltips"><p>{{sp.PSGC}}</p>
                                <span class="tooltipstatus">Per Sequence GC Content</span></span></td>
                            <td><span class="status-{{sp.PBNC}} tooltips"><p>{{sp.PBNC}}</p>
                                <span class="tooltipstatus">Per Base N Content</span></span></td>
                            <td><span class="status-{{sp.SLD}} tooltips"><p>{{sp.SLD}}</p>
                                <span class="tooltipstatus">Sequence Length Distribution</span></span></td>
                            <td><span class="status-{{sp.SDL}} tooltips"><p>{{sp.SDL}}</p>
                                <span class="tooltipstatus">Sequence Duplication Levels</span></span></td>
                            <td><span class="status-{{sp.OS}} tooltips"><p>{{sp.OS}}</p>
                                <span class="tooltipstatus">Overrepresented Sequences</span></span></td>
                            <td><span class="status-{{sp.AC}} tooltips"><p>{{sp.AC}}</p>
                                <span class="tooltipstatus">Adapter Content</span></span></td>
                            <td>{{sp.Total_Sequence}}</td>
                            <td>{{sp.Sequence_length}}</td>
                            <td>{{sp.GC}}</td>
                            <td>{{sp.Lane}}</td>
                            <td>{{sp.Row}}</td>
                            <td>
                                <button class="button is-small is-warning modal-button" href="#myForm{{forloop.counter}}">Edit</span></button>
                                <div id="myForm{{forloop.counter}}" class="model">

                                      <!-- Modal content -->
                                      <div class="model-content">
                                        <!---  Modal Start Header ---->
                                        <div class="modal-header">
                                          <span class="fas fa-times close is-small"></span>
                                          <h2>Modal Header</h2>
                                        </div>
                                        <!---  Modal End Header ---->
                                        <!---  Modal Start Body ---->
                                        <div class="modal-body">

                                        </div>
                                        <!---  Modal End Body ---->

                                        <!---  Modal Footer ---->
                                        <div class="modal-footer">
                                          <h3>Modal Footer</h3>
                                        </div>
                                      </div>

                                    </div>
                            </td>
                            <td class="is-actions-cell flex-container">
                                  <div class="buttons ">
                                    <!----Modal Button ---->

                                    <button class="button is-small is-primary modal-button" href="#myModal{{forloop.counter}}"><span class="fas fa-image"></span></button>

                                    <!---- Modal Code  ---->
                                    <div id="myModal{{forloop.counter}}" class="model">

                                      <!-- Modal content -->
                                      <div class="model-content">
                                        <!---  Modal Start Header ---->
                                        <div class="modal-header">
                                          <span class="fas fa-times close is-small"></span>
                                          <h2>Modal Header</h2>
                                        </div>
                                        <!---  Modal End Header ---->
                                        <!---  Modal Start Body ---->
                                        <div class="modal-body">
                                          <div class="tabs-wrapper">
                                            <h1 style="margin-bottom: 20px;">All Image of {{sp.Path}}</h1>
                                              <div class="tabs-content">
                                                  <div class="gallery">
                                                    <!-- Image gallery -->
                                                    <div class="row flex-container">
                                                      <div class="column tooltip">
                                                        <h3><span class="image {{sp.BS}}"></span><span class="tooltiptext">Basic Statistic</span></h3>
                                                         <div class="card" style="padding:50px; width:70%; margin-left:15%">
                                                           <h1 class="flex-container" style="font-size:15px; font-weight:bold">Total Sequence :  <p style="margin-left:10px;">{{sp.Total_Sequence}}</p></h1><br>
                                                           <h1 class="flex-container" style="font-size:15px; font-weight-bold">Length :  <p style="margin-left:10px;">{{sp.Sequence_length}}</p></h1><br>
                                                           <h1 class="flex-container" style="font-size:15px; font-weight-bold">%GC :  <p style="margin-left:10px;">{{sp.GC}}</p></h1>
                                                        </div>
                                                      </div>

                                                      <div class="column tooltip">
                                                        <h3><span class="image {{sp.PBSQ}}"></span><span class="tooltiptext">Per base sequence quality</span></h3>
                                                        <a href="media/Project/{{pro}}/{{pt}}/{{sqc}}/FASTQC_REPORTS/{{spp}}/{{sp.Path_name}}/Images/per_base_quality.png" data-lightbox="mygallery" data-title="Per Base Quality">
                                                          <img src="media/Project/{{pro}}/{{pt}}/{{sqc}}/FASTQC_REPORTS/{{spp}}/{{sp.Path_name}}/Images/per_base_quality.png">
                                                        </a>
                                                      </div>
                                                      <div class="column tooltip">
                                                        <h3><span class="image {{sp.PTSQ}}"></span><span class="tooltiptext">Per tile sequence quality</span></h3>

                                                        <a href="media/Project/{{pro}}/{{pt}}/{{sqc}}/FASTQC_REPORTS/{{spp}}/{{sp.Path_name}}/Images/per_tile_quality.png" data-lightbox="mygallery" data-title="Per Tile Quality">
                                                          <img src="media/Project/{{pro}}/{{pt}}/{{sqc}}/FASTQC_REPORTS/{{spp}}/{{sp.Path_name}}/Images/per_tile_quality.png">
                                                        </a>
                                                      </div>

                                                    </div>

                                                    <div class="row flex-container">
                                                      <div class="column tooltip">
                                                        <h3><span class="image {{sp.PSQS}}"></span><span class="tooltiptext">Per sequence quality scores</span></h3>
                                                        <a href="media/Project/{{pro}}/{{pt}}/{{sqc}}/FASTQC_REPORTS/{{spp}}/{{sp.Path_name}}/Images/per_sequence_quality.png" data-lightbox="mygallery" data-title="Per Sequence Quality">
                                                          <img src="media/Project/{{pro}}/{{pt}}/{{sqc}}/FASTQC_REPORTS/{{spp}}/{{sp.Path_name}}/Images/per_sequence_quality.png">
                                                        </a>

                                                      </div>
                                                      <div class="column tooltip">
                                                        <h3><span class="image {{sp.PBSC}}"></span><span class="tooltiptext">Per base sequence content</span></h3>
                                                        <a href="media/Project/{{pro}}/{{pt}}/{{sqc}}/FASTQC_REPORTS/{{spp}}/{{sp.Path_name}}/Images/per_base_sequence_content.png" data-lightbox="mygallery" data-title="Per Base Sequence Content">
                                                          <img src="media/Project/{{pro}}/{{pt}}/{{sqc}}/FASTQC_REPORTS/{{spp}}/{{sp.Path_name}}/Images/per_base_sequence_content.png">
                                                        </a>
                                                      </div>
                                                      <div class="column tooltip">
                                                        <h3><span class="image {{sp.PSGC}}"></span><span class="tooltiptext">Per sequence GC content</span></h3>
                                                        <a href="media/Project/{{pro}}/{{pt}}/{{sqc}}/FASTQC_REPORTS/{{spp}}/{{sp.Path_name}}/Images/per_sequence_gc_content.png" data-lightbox="mygallery" data-title="Per Sequence GC Content">
                                                          <img src="media/Project/{{pro}}/{{pt}}/{{sqc}}/FASTQC_REPORTS/{{spp}}/{{sp.Path_name}}/Images/per_sequence_gc_content.png">
                                                        </a>

                                                      </div>

                                                    </div>
                                                    <div class="row flex-container">
                                                      <div class="column tooltip">
                                                        <h3><span class="image {{sp.PBNC}}"></span><span class="tooltiptext">Per base N content</span></h3>
                                                        <a href="media/Project/{{pro}}/{{pt}}/{{sqc}}/FASTQC_REPORTS/{{spp}}/{{sp.Path_name}}/Images/per_base_n_content.png" data-lightbox="mygallery" data-title="Per Base n Content">
                                                          <img src="media/Project/{{pro}}/{{pt}}/{{sqc}}/FASTQC_REPORTS/{{spp}}/{{sp.Path_name}}/Images/per_base_n_content.png">
                                                        </a>

                                                      </div>
                                                      <div class="column tooltip">
                                                        <h3><span class="image {{sp.SLD}}"></span><span class="tooltiptext">Sequence Length Distribution</span></h3>

                                                        <a href="media/Project/{{pro}}/{{pt}}/{{sqc}}/FASTQC_REPORTS/{{spp}}/{{sp.Path_name}}/Images/sequence_length_distribution.png" data-lightbox="mygallery" data-title="Sequence Length Distribution">
                                                          <img src="media/Project/{{pro}}/{{pt}}/{{sqc}}/FASTQC_REPORTS/{{spp}}/{{sp.Path_name}}/Images/sequence_length_distribution.png">
                                                        </a>
                                                      </div>
                                                      <div class="column tooltip">
                                                        <h3><span class="image {{sp.SDL}}"></span><span class="tooltiptext">Sequence Duplication Levels</span></h3>
                                                        <a href="media/Project/{{pro}}/{{pt}}/{{sqc}}/FASTQC_REPORTS/{{spp}}/{{sp.Path_name}}/Images/duplication_levels.png" data-lightbox="mygallery" data-title="Duplication Levels">
                                                          <img src="media/Project/{{pro}}/{{pt}}/{{sqc}}/FASTQC_REPORTS/{{spp}}/{{sp.Path_name}}/Images/duplication_levels.png">
                                                        </a>
                                                      </div>

                                                    </div>
                                                    <div class="row flex-container">
                                                      <div class="column tooltip">
                                                        <h3><span class="image {{sp.OS}}"></span><span class="tooltiptext">Overrepresented sequences</span></h3>
                                                      </div>
                                                      <div class="column tooltip">
                                                        <h3><span class="image  {{sp.AC}}"></span><span class="tooltiptext">Adapter Content</span></h3>
                                                        <a href="media/Project/{{pro}}/{{pt}}/{{sqc}}/FASTQC_REPORTS/{{spp}}/{{sp.Path_name}}/Images/adapter_content.png" data-lightbox="mygallery" data-title="Adapter Content" >
                                                          <img src="media/Project/{{pro}}/{{pt}}/{{sqc}}/FASTQC_REPORTS/{{spp}}/{{sp.Path_name}}/Images/adapter_content.png">
                                                        </a>
                                                      </div>
                                                    </div>

                                                  </div>
                                            </div>
                                          </div>
                                        </div>
                                        <!---  Modal End Body ---->

                                        <!---  Modal Footer ---->
                                        <div class="modal-footer">
                                          <h3>Modal Footer</h3>
                                        </div>
                                      </div>

                                    </div>
                                    <!---- Modal Close --->
                                  </div>
                            </td>
                        </tr>
                    {% endfor%}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
{% endif %}
{% endblock main %}